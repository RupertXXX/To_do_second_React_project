(this["webpackJsonpnew-app"]=this["webpackJsonpnew-app"]||[]).push([[0],{116:function(e,t,n){},119:function(e,t,n){e.exports={main:"notes_main__2zUlM"}},130:function(e,t,n){},22:function(e,t,n){e.exports={main:"addNoteIs_main__Lp0pq",top:"addNoteIs_top__2mTXb",close:"addNoteIs_close__3yLm2",title:"addNoteIs_title__1lSwS",description:"addNoteIs_description__L4vB3",submit:"addNoteIs_submit__2i1E_"}},23:function(e,t,n){e.exports={main:"auth_main__1A3Q4",almost_main:"auth_almost_main__yudt9",title:"auth_title__2-IbM",links:"auth_links__2Z-Zu",text:"auth_text__2a7gH",login:"auth_login__1JH51",register:"auth_register__fcDJq"}},24:function(e,t,n){e.exports={main:"login_main__bLmud",almost_main:"login_almost_main__1JEwQ",title:"login_title__1ie_H",main_form:"login_main_form__3GXEV",email:"login_email__3cBJ_",password:"login_password__1wfVx",login:"login_login__1j8xm"}},248:function(e,t,n){},250:function(e,t,n){},251:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(52),i=n.n(c),r=n(21),o=n(11),l=(n(130),n(6)),d=n(113),j=n(7),u=n(55),m=n(114).create({baseURL:"https://api-nodejs-todolist.herokuapp.com/"}),b=function(e,t,n,s){return m.post("user/register",{name:e,email:t,password:n,age:s})},O=function(e,t){return m.post("user/login",{email:e,password:t})},h=function(e){return m.post("user/logout",{},{headers:{Authorization:"Bearer ".concat(e)}})},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return m.get("task?limit=".concat(t,"&skip=").concat(n),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e}))},x=function(e,t){return m.post("task",{description:t},{headers:{Authorization:"Bearer ".concat(e)}})},p=function(e,t){return m.put("task/".concat(t),{completed:!0},{headers:{Authorization:"Bearer ".concat(e)}})},f="SET_USER_MESSAGES",g="SET_USER_DATA",N="SET_USER_TOKEN",v="SET_USER_REGISTER_TOKEN",S="CLEAR_USER_DATA",E="LOGIN_IS",M="LOGIN_IS_NOT",L={isLogin:!1,messages:[],userData:{name:null,email:null,age:null},token:null,registerToken:null},T=function(e,t){return{type:"SET_USER_MESSAGES",spot:e,messages:t}},k=function(e,t){return function(n){O(e,t).then((function(e){n({type:"LOGIN_IS"}),n({type:"SET_USER_TOKEN",token:e.data.token})})).catch((function(e){n(T("login",e))}))}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var n={spot:t.spot,messages:t.messages};return Object(j.a)(Object(j.a)({},e),{},{messages:[].concat(Object(u.a)(e.messages),[n])});case E:return Object(j.a)(Object(j.a)({},e),{},{isLogin:!0});case M:return Object(j.a)(Object(j.a)({},e),{},{isLogin:!1});case g:return Object(j.a)(Object(j.a)({},e),{},{userData:{name:t.name,email:t.email,age:t.age}});case N:return Object(j.a)(Object(j.a)({},e),{},{token:t.token});case v:return Object(j.a)(Object(j.a)({},e),{},{registerToken:t.registerToken});case S:return Object(j.a)(Object(j.a)({},e),{},{userData:{email:null,password:null},isLogin:!1});default:return e}},w="SET_INITIALIZED",A={initialized:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(j.a)(Object(j.a)({},e),{},{initialized:!0});default:return e}},C="SET_USER_NOTES",R="SET_NOTES_MESSAGES",U={notes:[],messages:[]},F=function(e,t){return{type:"SET_NOTES_MESSAGES",spot:e,messages:t}},B=function(e){return e*=18,function(t,n){return _(n().user.token,18,e).then((function(e){t({type:"SET_USER_NOTES",notes:e.data.data})})).catch((function(e){t(F("get",e))}))}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:var n=t.notes.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{date:e.createdAt.slice(0,10)})}));return Object(j.a)(Object(j.a)({},e),{},{notes:n});case R:var s={spot:t.spot,messages:t.messages};return Object(j.a)(Object(j.a)({},e),{},{messages:[].concat(Object(u.a)(e.messages),[s])});default:return e}},D=n(254),z=Object(l.c)({user:y,form:D.a,app:I,notes:G}),J=Object(l.e)(z,Object(l.a)(d.a));window.store=J;var H=J,K=n(116),P=n.n(K),Z=n(10),q=n(5),V=n.n(q),Q=n(0),W=function(){return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)("div",{className:V.a.main,children:[Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.line}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"}),Object(Q.jsx)("div",{className:V.a.title,children:"Menu"})]})})},X=n(117),Y=n(118),$=n(122),ee=n(120),te=n(56),ne=n.n(te),se=function(e){Object($.a)(n,e);var t=Object(ee.a)(n);function n(e){var s;return Object(X.a)(this,n),(s=t.call(this,e)).state={hasError:!1,error:""},s}return Object(Y.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e})}},{key:"render",value:function(){var e=this;return Object(Q.jsx)(Q.Fragment,{children:this.state.hasError?Object(Q.jsxs)("div",{className:ne.a.main,children:[Object(Q.jsxs)("div",{className:ne.a.text,children:[" Oops! This ",this.props.name," has ",Object(Q.jsx)("span",{children:"error"})," =( "]}),Object(Q.jsx)("button",{className:ne.a.btn,onClick:function(){return console.log(e.state.error)},children:"Report a bug"})]}):this.props.children})}}]),n}(a.a.Component),ae=function(e){return function(t){for(var n=t.forErrorName,s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return Object(Q.jsx)(se,{name:n,children:Object(Q.jsx)(e,Object(j.a)({},a))})}},ce=n(121),ie=n(76),re=n.n(ie),oe=function(e){return Object(Q.jsx)("div",{className:re.a.main,onClick:function(){return e.setMode((function(e){return!e}))},children:Object(Q.jsx)("div",{className:re.a.logo,children:"+"})})},le=n(253),de=n(252),je=n(22),ue=n.n(je),me=Object(de.a)({form:"addNote"})((function(e){return Object(Q.jsxs)("form",{className:ue.a.main_form,onSubmit:e.handleSubmit,children:[Object(Q.jsx)("div",{children:Object(Q.jsx)(le.a,{className:ue.a.description,name:"description",placeholder:"Your description",component:"textarea"})}),e.error&&Object(Q.jsx)("div",{className:ue.a.mass_error,children:e.error}),Object(Q.jsx)("button",{className:ue.a.submit,name:"submit",children:" Send "})]})})),be=function(e){return Object(Q.jsxs)("div",{className:ue.a.main,children:[Object(Q.jsxs)("div",{className:ue.a.top,children:[Object(Q.jsx)("div",{}),Object(Q.jsx)("div",{className:ue.a.close,onClick:function(){return e.setMode((function(e){return!e}))},children:"+"})]}),Object(Q.jsx)("div",{className:ue.a.title,children:"Add Note: "}),Object(Q.jsx)(me,{onSubmit:function(t){e.setNote(t.description)},error:e.errors})]})},Oe=(n(248),function(e){var t=Object(s.useState)(!1),n=Object(ce.a)(t,2),a=n[0],c=n[1];return Object(Q.jsx)(Q.Fragment,{children:a?Object(Q.jsx)(be,Object(j.a)({setMode:c},e)):Object(Q.jsx)(oe,{setMode:c})})}),he=Object(l.d)(ae,Object(o.b)((function(e){return{errors:e.user.messages.filter((function(e){return e.spot="add"}))}}),(function(e){return{setNote:function(t){e(function(e){return function(t,n){return x(n().user.token,e).then((function(e){t(B(0))})).catch((function(e){t(F("add",e))}))}}(t))}}})))(Oe),_e=n(79),xe=n.n(_e),pe=function(e){return{isLogin:e.user.isLogin}},fe=function(e){var t=function(t){return t.isLogin?Object(Q.jsx)(e,Object(j.a)({},t)):Object(Q.jsx)(Z.a,{to:"/auth"})};return t=Object(o.b)(pe)(t)}((function(e){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)("div",{className:xe.a.main,children:[Object(Q.jsx)(W,{}),e.children]}),Object(Q.jsx)(he,{className:xe.a.add_photo})]})})),ge=n(28),Ne=n.n(ge),ve=n.p+"static/media/yes.16d3b566.svg",Se=n.p+"static/media/no.fa7e5ead.svg",Ee=function(e){return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)("div",{className:Ne.a.main,children:[Object(Q.jsx)("div",{className:Ne.a.description,children:e.description}),Object(Q.jsx)("div",{className:Ne.a.set_completed,onClick:function(){return t=e.id,void e.setComplete(t);var t},children:"Completed"}),Object(Q.jsxs)("div",{className:Ne.a.info,children:[Object(Q.jsx)("div",{className:Ne.a.date,children:e.date}),Object(Q.jsxs)("div",{className:Ne.a.completed,children:[" Completed: ",Object(Q.jsx)("img",{className:Ne.a.completed_img,src:e.completed?ve:Se})," "]})]})]})})},Me=n(82),Le=n.n(Me),Te=n.p+"static/media/loading.728cf1d4.svg",ke=function(e){return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)("div",{className:Le.a.loading,children:Object(Q.jsx)("img",{className:Le.a.loading_svg,src:Te,alt:"Loading..."})})})},ye=n(119),we=n.n(ye),Ae=function(e){Object(s.useEffect)((function(){e.getNotes(0)}),[]);return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)("div",{className:we.a.main,children:e.notes.length>0?e.notes.map((function(t){return Object(Q.jsx)(Ee,{setComplete:e.setComplete,id:t._id,description:t.description,date:t.date,completed:t.completed},t._id)})):Object(Q.jsx)(ke,{})})})},Ie=Object(l.d)(ae,Object(o.b)((function(e){return{notes:e.notes.notes}}),(function(e){return{getNotes:function(t){e(B(t))},setComplete:function(t){e(function(e){return function(t,n){return p(n().user.token,e).then((function(e){t(B(0))})).catch((function(e){t(F("complete",e))}))}}(t))}}})))(Ae),Ce=(n(250),function(e){return Object(Q.jsx)(Q.Fragment,{children:"Settings"})}),Re=n(23),Ue=n.n(Re),Fe=function(e){return Object(Q.jsx)("div",{className:Ue.a.main,children:e.isLogin?Object(Q.jsx)(Z.a,{to:"/notes"}):Object(Q.jsxs)("div",{className:Ue.a.almost_main,children:[Object(Q.jsxs)("div",{className:Ue.a.title,children:["Welcome to ",Object(Q.jsx)("span",{children:"The Notes"})," "]}),Object(Q.jsxs)("div",{className:Ue.a.links,children:[Object(Q.jsx)("div",{className:Ue.a.text,children:" Login to continue "}),Object(Q.jsx)(r.b,{className:Ue.a.login,to:"/login",children:"Login"}),Object(Q.jsx)("div",{className:Ue.a.text,children:" If you don't have an account you can register "}),Object(Q.jsx)(r.b,{className:Ue.a.register,to:"/register",children:"Register"})]})]})})},Be=Object(l.d)(ae,Object(o.b)((function(e){return{isLogin:e.user.isLogin}}),null))(Fe),Ge=n(29),De=n.n(Ge),ze=Object(de.a)({form:"register"})((function(e){return Object(Q.jsxs)("form",{className:De.a.main_form,onSubmit:e.handleSubmit,children:[Object(Q.jsx)("div",{children:Object(Q.jsx)(le.a,{className:De.a.name,name:"name",type:"text",placeholder:"Name",component:"input"})}),Object(Q.jsx)("div",{children:Object(Q.jsx)(le.a,{className:De.a.email,name:"email",type:"email",placeholder:"E-mail",component:"input"})}),Object(Q.jsx)("div",{children:Object(Q.jsx)(le.a,{className:De.a.password,name:"password",type:"password",placeholder:"password",component:"input"})}),Object(Q.jsxs)("div",{children:["Age:",Object(Q.jsx)(le.a,{className:De.a.age,name:"age",type:"number",component:"input"})]}),e.error&&Object(Q.jsx)("div",{className:De.a.mass_error,children:e.error}),Object(Q.jsx)("div",{children:Object(Q.jsx)("button",{className:De.a.btn,name:"submit",children:"Send"})})]})})),Je=function(e){return Object(Q.jsx)(Q.Fragment,{children:e.isLogin?Object(Q.jsx)(Z.a,{to:"/notes"}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("div",{children:"Registry"}),Object(Q.jsx)(ze,{onSubmit:function(t){e.registerUser(t.name,t.email,t.password,t.age)}})]})})},He=Object(l.d)(ae,Object(o.b)((function(e){return{isLogin:e.user.isLogin}}),(function(e){return{registerUser:function(t,n,s,a){e(function(e,t,n,s){return function(a){return b(e,t,n,s).then((function(e){a(k(t,n)),a({type:"SET_USER_REGISTER_TOKEN",registerToken:e.data.token})})).catch((function(e){a(T("register",e))}))}}(t,n,s,a))}}})))(Je),Ke=n(24),Pe=n.n(Ke),Ze=Object(de.a)({form:"register"})((function(e){return Object(Q.jsxs)("form",{className:Pe.a.main_form,onSubmit:e.handleSubmit,children:[Object(Q.jsx)("div",{children:Object(Q.jsx)(le.a,{className:Pe.a.email,name:"email",type:"email",placeholder:"E-mail",component:"input"})}),Object(Q.jsx)("div",{children:Object(Q.jsx)(le.a,{className:Pe.a.password,name:"password",type:"password",placeholder:"password",component:"input"})}),e.error&&Object(Q.jsx)("div",{className:Pe.a.mass_error,children:e.error}),Object(Q.jsx)("div",{children:Object(Q.jsx)("button",{className:Pe.a.login,name:"submit",children:" Send "})})]})})),qe=function(e){return Object(Q.jsx)("div",{className:Pe.a.main,children:e.isLogin?Object(Q.jsx)(Z.a,{to:"/notes"}):Object(Q.jsxs)("div",{className:Pe.a.almost_main,children:[Object(Q.jsx)("div",{className:Pe.a.title,children:"Login"}),Object(Q.jsx)(Ze,{onSubmit:function(t){e.loginUser(t.email,t.password)},error:e.errors})]})})},Ve=Object(l.d)(ae,Object(o.b)((function(e){return{isLogin:e.user.isLogin,errors:e.user.messages.filter((function(e){return e.spot="login"}))}}),(function(e){return{loginUser:function(t,n){e(k(t,n))},logoutUser:function(){e((function(e,t){h(t().user.token).then((function(t){e({type:"CLEAR_USER_DATA"})})).catch((function(t){e(T("logout",t))}))}))}}})))(qe);var Qe=function(){return Object(Q.jsx)("div",{className:P.a.App,children:Object(Q.jsxs)(Z.d,{children:[Object(Q.jsx)(Z.b,{exact:!0,path:"/",render:function(){return Object(Q.jsx)(Z.a,{to:"/notes"})}}),Object(Q.jsx)(Z.b,{path:"/auth",render:function(){return Object(Q.jsx)(Be,{})}}),Object(Q.jsx)(Z.b,{path:"/register",render:function(){return Object(Q.jsx)(He,{})}}),Object(Q.jsx)(Z.b,{path:"/login",render:function(){return Object(Q.jsx)(Ve,{})}}),Object(Q.jsx)(Z.b,{path:"/notes",render:function(){return Object(Q.jsx)(fe,{children:Object(Q.jsx)(Ie,{})})}}),Object(Q.jsx)(Z.b,{path:"/settings",render:function(){return Object(Q.jsx)(fe,{children:Object(Q.jsx)(Ce,{})})}})]})})},We=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,255)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),c(e),i(e)}))};i.a.render(Object(Q.jsx)(o.a,{store:H,children:Object(Q.jsx)(r.a,{children:Object(Q.jsx)(Qe,{})})}),document.getElementById("root")),We()},28:function(e,t,n){e.exports={main:"oneNote_main__3mxpc",description:"oneNote_description__21ipH",set_completed:"oneNote_set_completed__2sGb0",info:"oneNote_info__jL2Di",date:"oneNote_date__61piF",completed:"oneNote_completed__3HkmP",completed_img:"oneNote_completed_img__Ppeib"}},29:function(e,t,n){},5:function(e,t,n){e.exports={main:"menu_main__rcsvA",title:"menu_title__ICRa_",line:"menu_line__2K920"}},56:function(e,t,n){e.exports={main:"errorBoundary_main__1qBL7",text:"errorBoundary_text__1GWNt",btn:"errorBoundary_btn__3mJyM"}},76:function(e,t,n){e.exports={main:"addNoteLogo_main__CdVCZ",logo:"addNoteLogo_logo__1Cnml"}},79:function(e,t,n){e.exports={main:"content_main__37CPU"}},82:function(e,t,n){e.exports={loading:"loading_loading__19cO9"}}},[[251,1,2]]]);
//# sourceMappingURL=main.27a6f30a.chunk.js.map